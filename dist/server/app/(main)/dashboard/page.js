(()=>{var e={};e.id=248,e.ids=[248],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},52228:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=t(67096),a=t(16132),o=t(37284),i=t.n(o),n=t(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let c=["",{children:["(main)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,66733)),"G:\\notion\\src\\app\\(main)\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,54378)),"G:\\notion\\src\\app\\(main)\\dashboard\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,46647)),"G:\\notion\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["G:\\notion\\src\\app\\(main)\\dashboard\\page.tsx"],u="/(main)/dashboard/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},75464:(e,r,t)=>{Promise.resolve().then(t.bind(t,63086))},63086:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>N});var s=t(53854),a=t(34218),o=t(92747),i=t(28506),n=t(68504);let l=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));l.displayName="Card";let c=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...r}));c.displayName="CardHeader";let d=a.forwardRef(({className:e,...r},t)=>s.jsx("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));d.displayName="CardTitle";let u=a.forwardRef(({className:e,...r},t)=>s.jsx("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...r}));u.displayName="CardDescription";let p=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("p-6 pt-0",e),...r}));p.displayName="CardContent";let m=a.forwardRef(({className:e,...r},t)=>s.jsx("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter";var x=t(60401),h=t(99589),f=t(53110),g=t(59924),w=t(69211),b=t(42416),y=t(51018),v=t(19198),j=t(19066),k=t(99615);let N=({subscription:e,user:r})=>{let{toast:t}=(0,b.pm)(),n=(0,y.useRouter)(),{dispatch:m}=(0,v.useAppState)(),[N,q]=(0,a.useState)("\uD83D\uDCBC"),C=(0,j.createClientComponentClient)(),{register:P,handleSubmit:_,reset:S,formState:{isSubmitting:G,errors:E}}=(0,o.cI)({mode:"onChange",defaultValues:{logo:"",workspaceName:""}}),A=async e=>{let s=e.logo?.[0],a=null,o=(0,i.Z)();if(console.log(s),s)try{let{data:e,error:r}=await C.storage.from("workspace_logos").upload(`workspaceLogo.${o}`,s,{cacheControl:"3600",upsert:!0});if(r)throw Error("");a=e.path}catch(e){console.log("Error",e),t({variant:"destructive",title:"Error! Could not upload your workspace logo"})}try{let s={data:null,createdAt:new Date().toISOString(),iconId:N,id:o,inTrash:"",title:e.workspaceName,workspaceOwner:r.id,logo:a||null,bannerUrl:""},{data:i,error:l}=await (0,w.MB)(s);if(l)throw Error();m({type:"ADD_WORKSPACE",payload:{...s,folders:[]}}),t({title:"Workspace Created",description:`${s.title} has been created successfully.`}),n.replace(`/dashboard/${s.id}`)}catch(e){console.log(e,"Error"),t({variant:"destructive",title:"Could not create your workspace",description:"Oops! Something went wrong, and we couldn't create your workspace. Try again or come back later."})}finally{S()}};return(0,s.jsxs)(l,{className:"w-[800px]   h-screen   sm:h-auto   ",children:[(0,s.jsxs)(c,{children:[s.jsx(d,{children:"Create A Workspace"}),s.jsx(u,{children:"Lets create a private workspace to get you started.You can add collaborators later from the workspace settings tab."})]}),s.jsx(p,{children:s.jsx("form",{onSubmit:_(A),children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"flex   items-center   gap-4",children:[s.jsx("div",{className:"text-5xl",children:s.jsx(x.Z,{getValue:e=>q(e),children:N})}),(0,s.jsxs)("div",{className:"w-full ",children:[s.jsx(h._,{htmlFor:"workspaceName",className:"text-sm   text-muted-foreground   ",children:"Name"}),s.jsx(f.I,{id:"workspaceName",type:"text",placeholder:"Workspace Name",disabled:G,...P("workspaceName",{required:"Workspace name is required"})}),s.jsx("small",{className:"text-red-600",children:E?.workspaceName?.message?.toString()})]})]}),(0,s.jsxs)("div",{children:[s.jsx(h._,{htmlFor:"logo",className:"text-sm   text-muted-foreground   ",children:"Workspace Logo"}),s.jsx(f.I,{id:"logo",type:"file",accept:"image/*",placeholder:"Workspace Name",...P("logo",{required:!1})}),s.jsx("small",{className:"text-red-600",children:E?.logo?.message?.toString()}),e?.status!=="active"&&s.jsx("small",{className:"   text-muted-foreground   block   ",children:"To customize your workspace, you need to be on a Pro Plan"})]}),s.jsx("div",{className:"self-end",children:s.jsx(g.z,{disabled:G,type:"submit",children:G?s.jsx(k.Z,{}):"Create Workspace"})})]})})})]})}},66733:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var s=t(4656),a=t(46813);t(3542);var o=t(24596),i=t(48386),n=t(41412),l=t(95153);let c=(0,l.createProxy)(String.raw`G:\notion\src\components\dashboard-setup\dashboard-setup.tsx`),{__esModule:d,$$typeof:u}=c,p=c.default;var m=t(33359);let x=async()=>{let e=(0,a.createServerComponentClient)({cookies:o.cookies}),{data:{user:r}}=await e.auth.getUser();if(!r)return;let t=await i.Z.query.workspaces.findFirst({where:(e,{eq:t})=>t(e.workspaceOwner,r.id)}),{data:l,error:c}=await (0,m.getUserSubscriptionStatus)(r.id);if(!c){if(!t)return s.jsx("div",{className:"bg-background   h-screen   w-screen   flex   justify-center   items-center   ",children:s.jsx(p,{user:r,subscription:l})});(0,n.redirect)(`/dashboard/${t.id}`)}},h=x}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[271,524,883,732,55,969,800,910,234,334],()=>t(52228));module.exports=s})();